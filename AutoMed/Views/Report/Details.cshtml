@using AutoMed.Models;
@model ReportDetailsViewModel
@{
    ViewBag.Title = "Details";
}
@using (Html.BeginForm("Download", "Report", FormMethod.Post, new { }))
{
    for (int i = 0; i < Model.Quotes.Count; i++)
    {
        @Html.HiddenFor(m => m.Quotes[i].Id);
    }
    for (int j = 0; j < Model.Columns.Count ; j++)
    {
        @Html.HiddenFor(m => m.Columns[j]);
    }
    <div class="col-md-offset-10 col-md-2">
        <input type="submit" value="Download Report" class="btn btn-default" />
    </div>
}

<table class="table-striped table">
    <thead>
        <tr>
            @foreach (string header in Model.Columns)
            {
                <th>@header</th>
            }
        </tr>
    </thead>
    <tbody>
        @foreach (Quote q in Model.Quotes)
        {
            <tr>
                @foreach (string column in Model.Columns)
                {
                    <td>@Report.Columns[column](q)</td>
                }
            </tr>
        }
    </tbody>
</table>


